import{R as $,r as i,j as g,y as j,p as o,l as d,S as a,U as x,q as e,F as k,k as I,A as B,W as q,X as A}from"./index-9677e2f8.js";import{E as F,a as m}from"./index-f3f58be2.js";import{E as C,b as L,a as n,d as z}from"./index-41153a34.js";import{c as M}from"./index-bdb10b14.js";const u=v=>(q("data-v-b8560657"),v=v(),A(),v),R={class:"browse"},W={style:{display:"flex",width:"90%","align-items":"center","margin-bottom":"16px"}},X=u(()=>e("div",{style:{width:"18%"}},"文件拥有方：",-1)),G={style:{width:"82%"}},H={style:{display:"flex",width:"90%","align-items":"center","margin-bottom":"16px"}},J=u(()=>e("div",{style:{width:"18%"}},"文件名：",-1)),K={style:{width:"82%"}},P={style:{display:"flex",width:"90%","align-items":"center","margin-bottom":"16px"}},Q=u(()=>e("div",{style:{width:"18%"}},"上传时间：",-1)),Y={style:{width:"82%"}},Z={style:{display:"flex",width:"90%","align-items":"center","margin-bottom":"16px"}},ee=u(()=>e("div",{style:{width:"18%"}},"文件ID：",-1)),te={style:{width:"82%"}},le={style:{display:"flex",width:"90%","align-items":"center","margin-bottom":"16px"}},se=u(()=>e("div",{style:{width:"18%"}},"文件大小：",-1)),ae={style:{width:"82%"}},oe={style:{display:"flex",width:"90%","align-items":"center","margin-bottom":"16px"}},ie=u(()=>e("div",{style:{width:"18%"}},"是否可转发：",-1)),de={style:{width:"82%"}},ne={style:{display:"flex",width:"90%","align-items":"center","margin-bottom":"16px"}},ue=u(()=>e("div",{style:{width:"18%"}},"区块链哈希：",-1)),me={style:{width:"82%"}},pe={style:{display:"flex",width:"90%","align-items":"center","margin-bottom":"16px"}},ve=u(()=>e("div",{style:{width:"18%"}},"文件描述：",-1)),re={style:{width:"82%"}},_e={class:"dialog-footer"},ce={__name:"browse",setup(v){const p=i(!1);i("");const w=i(0),E=i([]),r=i(""),_=i("");i("");const c=i(""),y=i(""),h=i(""),b=i(""),V=i(""),f=i("");i([]);const O=t=>{p.value=!1},S=t=>{x.post("browse/apply",{id:t.id,name:t.name,fileOwner:t.fileOwner,description:t.description,size:t.size,time:t.time,status:t.status}).then(l=>{console.log(l),U(),z({message:"申请成功",type:"success"})})},N=t=>{console.log(t),y.value=t.fileOwner,r.value=t.id,_.value=t.name,h.value=t.time,b.value=t.size,V.value=t.hash,f.value=t.description,w.value=t.status,t.status==1?c.value="是":c.value="否",p.value=!0},U=()=>{x.get("browse").then(t=>{console.log(t),E.value=t.data})},D=()=>{x.post("browse/apply",{id:r.value,name:_.value,fileOwner:y.value,description:f.value,size:b.value,time:h.value,status:w.value}).then(t=>{console.log(t),z({message:"申请成功",type:"success"})}),p.value=!1};return U(),(t,l)=>(g(),j("div",R,[o(a(L),{class:"box-card"},{default:d(()=>[e("div",null,[o(a(F),{data:E.value,style:{width:"100%"},border:""},{default:d(()=>[o(a(m),{prop:"fileOwner",label:"组织名称"}),o(a(m),{prop:"name",label:"文件名"}),o(a(m),{prop:"id",label:"ID"}),o(a(m),{prop:"size",label:"大小"}),o(a(m),{prop:"description",label:"描述",width:"300"}),o(a(m),{label:"操作"},{default:d(s=>[o(a(C),{style:{"margin-left":"40px"},type:"primary",onClick:T=>N(s.row)},{default:d(()=>[k("查看")]),_:2},1032,["onClick"]),s.row.status==0?(g(),I(a(C),{key:0,style:{"margin-left":"40px"},type:"primary",onClick:T=>S(s.row)},{default:d(()=>[k("申请共享")]),_:2},1032,["onClick"])):B("",!0)]),_:1})]),_:1},8,["data"])])]),_:1}),o(a(M),{modelValue:p.value,"onUpdate:modelValue":l[9]||(l[9]=s=>p.value=s),title:"查看",width:"30%","before-close":O},{footer:d(()=>[e("span",_e,[w.value==0?(g(),I(a(C),{key:0,type:"primary",onClick:l[8]||(l[8]=s=>D())},{default:d(()=>[k(" 申请 ")]),_:1})):B("",!0)])]),default:d(()=>[e("div",null,[e("div",W,[X,e("div",G,[o(a(n),{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=s=>y.value=s),disabled:""},null,8,["modelValue"])])]),e("div",H,[J,e("div",K,[o(a(n),{modelValue:_.value,"onUpdate:modelValue":l[1]||(l[1]=s=>_.value=s),disabled:""},null,8,["modelValue"])])]),e("div",P,[Q,e("div",Y,[o(a(n),{modelValue:h.value,"onUpdate:modelValue":l[2]||(l[2]=s=>h.value=s),disabled:""},null,8,["modelValue"])])]),e("div",Z,[ee,e("div",te,[o(a(n),{modelValue:r.value,"onUpdate:modelValue":l[3]||(l[3]=s=>r.value=s),disabled:""},null,8,["modelValue"])])]),e("div",le,[se,e("div",ae,[o(a(n),{modelValue:b.value,"onUpdate:modelValue":l[4]||(l[4]=s=>b.value=s),disabled:""},null,8,["modelValue"])])]),e("div",oe,[ie,e("div",de,[o(a(n),{modelValue:c.value,"onUpdate:modelValue":l[5]||(l[5]=s=>c.value=s),disabled:""},null,8,["modelValue"])])]),e("div",ne,[ue,e("div",me,[o(a(n),{modelValue:V.value,"onUpdate:modelValue":l[6]||(l[6]=s=>V.value=s),disabled:""},null,8,["modelValue"])])]),e("div",pe,[ve,e("div",re,[o(a(n),{modelValue:f.value,"onUpdate:modelValue":l[7]||(l[7]=s=>f.value=s),disabled:""},null,8,["modelValue"])])])])]),_:1},8,["modelValue"])]))}},we=$(ce,[["__scopeId","data-v-b8560657"]]);export{we as default};
